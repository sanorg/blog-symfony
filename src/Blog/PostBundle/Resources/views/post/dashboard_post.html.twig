{% extends 'BlogPostBundle::post_base.html.twig' %}

{% block title %}
	{{ title }}
{% endblock %}

{% block body %}
	<div class="container">
		<h3 class="page-title"> {{ title }}</h3>
		<a href="{{ path('createPostPage') }}" class="btn btn-info">Create</a>

		{% if not list %}
			<div class="alert alert-error alert-msg">
				<button type="button" class="close" data-dismiss="alert">&times;</button>
				<strong>No any blog post!</strong>
			</div>
		{% else %}
		
			<table class="table table-striped">
				<thead>
					<tr class="info">
						<th>S.N.</th>
						<th>Title</th>
						<th>Author</th>
						<th>Date</th>
						<th>Status</th>
						<th>Action</th>
					</tr>

				</thead>
				<tbody>
					{% for post in posts %}
				        <tr>
							<td>{{ loop.index }}</td>
							<td> <a href="{{ path('singlePostPage', {'slug' : post.getId()}) }}"> {{ post.getTitle() }} </a> </td>
							<td> {{ post.author ? post.author.getName() : 'Anonymous User' }} </td>
							<td> {{ post.getDateTime()|date('Y-m-d H:i:s') }} </td>
							<td> {{ post.getActive() ? 'Active' : 'Inactive' }} </td>
							<td> 
								<a href="{{ path('editPostPage',{'slug': post.getId()}) }}">Edit</a>/
								<a href="{{ path('deletePostPage',{'slug': post.getId()}) }}">Delete</a>
							</td>
						</tr>
				    {% endfor %}
					
				</tbody>
			</table>

			{% if pages is not null %}
				{{ pages|raw }}
			{% endif %}
		{% endif %}
	</div>
{% endblock %}